# .git-cliff.toml

[git]
# Only include commits since the last tag (use semantic versioning tags like v1.0.0)
tag_pattern = "v[0-9]*"
conventional_commits = true

[changelog]
# Output changelog to the root (pub.dev reads CHANGELOG.md automatically)
output = "CHANGELOG.md"
# Sort commits by newest first
sort = "desc"
# Skip empty changelog sections (if no commits in a group)
trim = true

[template]
# Header for each release
header = """
# Changelog
All notable changes to this project will be documented in this file.
"""

# Tag format for each release (e.g., ## 1.0.0 - 2025-10-05)
tag = """
## {{ version }} - {{ timestamp | date(format="%Y-%m-%d") }}
"""

# The main body
body = """
{% for group, commits in commits | group_by(attribute="group") %}
### {{ group | upper_first }}
{% for commit in commits %}
- {{ commit.message | upper_first }} ({{ commit.id | truncate(length=7) }})
{% endfor %}
{% endfor %}
"""

# Footer (optional, clean for pub.dev)
footer = """
---
Generated by [git-cliff](https://github.com/orhun/git-cliff)
"""
